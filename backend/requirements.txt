# ResuMate Backend - Production Dependencies
# Optimized for Vercel serverless deployment
# Bug Fix #20: Added confection>=0.1.4, thinc>=8.3.4 for Pydantic v2 compatibility
# Bug Fix #21: Upgraded pydantic to 2.7.4 for Python 3.12.4 compatibility
# Bug Fix #22: Upgraded mangum to 0.21.0+ for Python 3.12 compatibility (Deployment TypeError fix)
# Cache invalidation 2026-02-24-16:30

# FastAPI and server
fastapi==0.109.0
uvicorn[standard]==0.27.0
python-multipart==0.0.6
mangum>=0.21.0,<1.0.0

# Database
sqlalchemy==2.0.25
asyncpg>=0.30.0
psycopg2-binary==2.9.9
alembic==1.13.1

# Document Processing (OCR removed - not compatible with Lambda)
pdfplumber==0.10.3
PyPDF2==3.0.1
python-docx==1.1.0
Pillow>=10.4.0
# pdf2image==1.16.3  # REMOVED: Requires poppler binary unavailable on Lambda
# pytesseract==0.3.10  # REMOVED: Requires tesseract binary unavailable on Lambda

# NLP and AI (spaCy without models - downloaded at runtime)
# numpy 1.26.4 for Python 3.12 compatibility (has prebuilt wheels)
numpy==1.26.4
# spaCy 3.8+ required for Pydantic 2.x compatibility
spacy>=3.8.0,<4.0.0
# CRITICAL: confection>=0.1.4 enables Pydantic v2 support for spaCy
confection>=0.1.4,<1.0.0
# CRITICAL: thinc>=8.3.4 required for spaCy + Pydantic v2 compatibility
thinc>=8.3.4,<9.0.0
openai==1.10.0

# Task Queue
celery==5.3.6
redis==5.0.1

# Security and Validation
# CRITICAL: pydantic>=2.7.4 required for Python 3.12.4 compatibility (recursive_guard fix)
pydantic>=2.7.4,<3.0.0
pydantic-settings>=2.1.0
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
python-dotenv==1.0.0

# Storage
boto3==1.34.23

# Utilities
aiofiles==23.2.1
httpx==0.26.0

# Monitoring
sentry-sdk==1.40.0

# PDF Generation
reportlab==4.0.7
