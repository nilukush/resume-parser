# ============================================
# DATABASE CONFIGURATION
# ============================================
# Development: PostgreSQL on localhost (port 5433 avoids conflict with macOS native PostgreSQL)
# Production: Supabase PostgreSQL (truly free tier)
#   - Sign up: https://supabase.com (free, no credit card)
#   - 500MB storage, 2 databases, 50K MAU
DATABASE_URL=postgresql+asyncpg://resumate_user:resumate_password@localhost:5433/resumate
DATABASE_URL_SYNC=postgresql://resumate_user:resumate_password@localhost:5433/resumate
USE_DATABASE=false  # Set to 'true' to enable PostgreSQL storage (vs in-memory)

# Production Supabase connection (format):
# DATABASE_URL=postgresql+asyncpg://postgres:[YOUR-PASSWORD]@[YOUR-PROJECT].supabase.co:5432/postgres
# Get from: Supabase Dashboard → Settings → Database
# Note: Use project URL (PROJECT.supabase.co), NOT db.PROJECT.supabase.co

# ============================================
# CELERY ASYNC PROCESSING (Optional)
# ============================================
# Set USE_CELERY=true to enable async background processing
# Requires: Redis instance + Celery worker deployment
USE_CELERY=false

# Redis configuration for Celery broker
# Development: localhost
# Production: Upstash Redis (free tier: 10K commands/day) or Redis Cloud
REDIS_URL=redis://localhost:6379/0
CELERY_BROKER_URL=redis://localhost:6379/1
CELERY_RESULT_BACKEND=redis://localhost:6379/2

# ============================================
# AI/ML SERVICES
# ============================================
# OpenAI API for GPT-4o-mini enhancement
# Optional: System works without it (graceful degradation)
OPENAI_API_KEY=your_openai_api_key_here

# ============================================
# ERROR TRACKING
# ============================================
# Sentry DSN for production error monitoring
# Get from: https://sentry.io/settings/projects/
# Leave empty to disable Sentry
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ============================================
# SECURITY CONFIGURATION
# ============================================
# Generate with: openssl rand -hex 32
# Production: Add as Vercel environment variable
SECRET_KEY=your_secret_key_here_generate_with_openssl_rand_hex_32

# ============================================
# APPLICATION CONFIGURATION
# ============================================
# Development: development, staging
# Production: production
ENVIRONMENT=development

# CORS: Comma-separated list of allowed origins
# Development: localhost URLs
# Production: https://resumate-frontend.vercel.app (Vercel frontend)
#           https://your-custom-domain.com (optional custom domain)
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8000

# File Upload
MAX_UPLOAD_SIZE=10485760
ALLOWED_EXTENSIONS=pdf,docx,doc,txt

# ============================================
# OCR CONFIGURATION
# ============================================
# Tesseract OCR path for scanned PDF processing
# Development: /usr/local/bin/tesseract (macOS: brew install tesseract)
# Production: /usr/bin/tesseract (Vercel serverless)
TESSERACT_PATH=/usr/local/bin/tesseract
ENABLE_OCR_FALLBACK=true

# ============================================
# FILE UPLOAD CONFIGURATION
# ============================================
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes
ALLOWED_EXTENSIONS=pdf,docx,doc,txt
